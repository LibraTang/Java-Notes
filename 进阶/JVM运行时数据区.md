![JVM运行时数据区](https://github.com/LibraTang/Pics/blob/master/Java-Notes/JVM%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA.jpeg)

## 单线程数据区（非共享）

每个线程有自己独立的数据区，包括**程序计数器，JVM方法栈和本地方法栈**。

* 程序计数器：PC，用于记录每个线程执行到哪了，记录着下一条（或本条）因该执行指令的地址
* JVM方法栈：包含栈帧（详见JVM栈部分）
* 本地方法栈：供native方法使用的内存空间

## 所有线程共享数据区

**堆内存和方法区**是所有线程共享的数据区

* 堆内存：JVM启动时即创建此内存区域，其中存放着数组和对象，垃圾回收主要指堆内存回收
* 方法区：存储了**运行时常量池**，**类结构信息**以及**方法、构造器**的代码
* 运行时常量池：每个类或接口在编译后生成的.class文件中，有一部分叫做常量表，JVM将class文件加载后，解析常量表的内容到运行时常量池，包括编译时方法中就明确可知的数字值、String值，以及必须在运行时解析的属性域引用。

## JVM栈

![JVM栈](https://github.com/LibraTang/Pics/blob/master/Java-Notes/JVM%E6%A0%88.png)

JVM栈由栈帧组成，当一个方法被调用时会自动压入一个栈帧，每个栈帧由局部变量数组、操作数栈、常量（池）引用组成